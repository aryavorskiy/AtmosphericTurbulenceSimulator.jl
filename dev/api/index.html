<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Reference · AtmosphericTurbulenceSimulator.jl</title><meta name="title" content="API Reference · AtmosphericTurbulenceSimulator.jl"/><meta property="og:title" content="API Reference · AtmosphericTurbulenceSimulator.jl"/><meta property="twitter:title" content="API Reference · AtmosphericTurbulenceSimulator.jl"/><meta name="description" content="Documentation for AtmosphericTurbulenceSimulator.jl."/><meta property="og:description" content="Documentation for AtmosphericTurbulenceSimulator.jl."/><meta property="twitter:description" content="Documentation for AtmosphericTurbulenceSimulator.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">AtmosphericTurbulenceSimulator.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Overview</a></li><li class="is-active"><a class="tocitem" href>API Reference</a><ul class="internal"><li><a class="tocitem" href="#Setting-up-the-atmosphere-model"><span>Setting up the atmosphere model</span></a></li><li><a class="tocitem" href="#Imaging-specifications"><span>Imaging specifications</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl/blob/master/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API-Reference"><a class="docs-heading-anchor" href="#API-Reference">API Reference</a><a id="API-Reference-1"></a><a class="docs-heading-anchor-permalink" href="#API-Reference" title="Permalink"></a></h1><ul><li><a href="#AtmosphericTurbulenceSimulator.DoubleSystem"><code>AtmosphericTurbulenceSimulator.DoubleSystem</code></a></li><li><a href="#AtmosphericTurbulenceSimulator.FilterSpec"><code>AtmosphericTurbulenceSimulator.FilterSpec</code></a></li><li><a href="#AtmosphericTurbulenceSimulator.FilterSpec-Union{Tuple{T}, Tuple{Type{T}, Real}} where T&lt;:Real"><code>AtmosphericTurbulenceSimulator.FilterSpec</code></a></li><li><a href="#AtmosphericTurbulenceSimulator.ImagingSpec"><code>AtmosphericTurbulenceSimulator.ImagingSpec</code></a></li><li><a href="#AtmosphericTurbulenceSimulator.PointSource"><code>AtmosphericTurbulenceSimulator.PointSource</code></a></li><li><a href="#AtmosphericTurbulenceSimulator.SingleLayer"><code>AtmosphericTurbulenceSimulator.SingleLayer</code></a></li><li><a href="#AtmosphericTurbulenceSimulator.TrueSkyImage"><code>AtmosphericTurbulenceSimulator.TrueSkyImage</code></a></li><li><a href="#AtmosphericTurbulenceSimulator.CircularAperture-Union{Tuple{T}, Tuple{Type{T}, Tuple{T, T} where T}, Tuple{Type{T}, Tuple{T, T} where T, Any}} where T&lt;:Real"><code>AtmosphericTurbulenceSimulator.CircularAperture</code></a></li><li><a href="#AtmosphericTurbulenceSimulator.kolmogorov_covmat-Tuple{AbstractMatrix}"><code>AtmosphericTurbulenceSimulator.kolmogorov_covmat</code></a></li><li><a href="#AtmosphericTurbulenceSimulator.simulate_images-Union{Tuple{FT2}, Tuple{FT}, Tuple{T}, Tuple{Type{T}, ImagingSpec{FT, AT} where AT&lt;:AbstractMatrix{FT}, AtmosphericTurbulenceSimulator.AtmosphereSpec{FT2}}, Tuple{Type{T}, ImagingSpec{FT, AT} where AT&lt;:AbstractMatrix{FT}, AtmosphericTurbulenceSimulator.AtmosphereSpec{FT2}, AtmosphericTurbulenceSimulator.TrueSky}} where {T, FT, FT2}"><code>AtmosphericTurbulenceSimulator.simulate_images</code></a></li><li><a href="#AtmosphericTurbulenceSimulator.simulate_phases-Union{Tuple{AtmosphericTurbulenceSimulator.AtmosphereSpec{FT}}, Tuple{FT}} where FT"><code>AtmosphericTurbulenceSimulator.simulate_phases</code></a></li></ul><h2 id="Setting-up-the-atmosphere-model"><a class="docs-heading-anchor" href="#Setting-up-the-atmosphere-model">Setting up the atmosphere model</a><a id="Setting-up-the-atmosphere-model-1"></a><a class="docs-heading-anchor-permalink" href="#Setting-up-the-atmosphere-model" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="AtmosphericTurbulenceSimulator.SingleLayer"><a class="docstring-binding" href="#AtmosphericTurbulenceSimulator.SingleLayer"><code>AtmosphericTurbulenceSimulator.SingleLayer</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SingleLayer(size, r0[; interpolate, interpolate_from, size_heuristics=1024])</code></pre><p>An <code>AtmosphereSpec</code> that produces independent (uncorrelated) phase frames for each timestep.</p><p><strong>Arguments</strong></p><ul><li><code>size</code>: a tuple <code>(nx, ny)</code> specifying the phase screen shape in pixels (coarse sampler grid).</li><li><code>r0</code>: Fried parameter (r₀) in pixels.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>interpolate</code>: when specified, the phase screen is sampled at a lower resolution and   then upsampled using specified number of Harding interpolation passes. If set to <code>:auto</code>,   the number of passes is chosen such that the low-res grid has at most <code>size_heuristics</code> total pixels.</li><li><code>interpolate_from</code>: alternatively, specify the low-res grid size directly. This must be   greater than <code>(11, 11)</code> in each dimension.</li><li><code>size_heuristics</code>: when <code>interpolate=:auto</code>, the maximum allowed number of pixels   in the low-res grid. Tweak this based on the capability of your hardware to compute <code>eigen</code>   of a <code>N×N</code> matrix, where <code>N</code> is the number of pixels in the low-res grid.</li></ul><p><strong>Notes</strong></p><p>The Harding interpolation follows &quot;Fast simulation of a Kolmogorov phase screen&quot; Cressida M. Harding, Rachel A. Johnston, and Richard G. Lane, APPLIED OPTICS Vol. 38, No. 11, April 1999</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl/blob/6832577da236feac4a10a9719c818e45d8e98f2b/src/atmosphere.jl#L89-L111">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AtmosphericTurbulenceSimulator.kolmogorov_covmat-Tuple{AbstractMatrix}"><a class="docstring-binding" href="#AtmosphericTurbulenceSimulator.kolmogorov_covmat-Tuple{AbstractMatrix}"><code>AtmosphericTurbulenceSimulator.kolmogorov_covmat</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">kolmogorov_covmat(W)
kolmogorov_covmat([T, ]size)</code></pre><p>Compute the phase covariance matrix of a turbulent layer in the atmosphere, following the Kolmogorov model. The piston term is excluded in this model. This function assumes unit Fried parameter <span>$r_0 = 1 px$</span>.</p><p><strong>Arguments</strong></p><ul><li><code>W</code>: the aperture function as a 2D array of weights. Normalized to <code>sum(W) == 1</code> internally.</li><li><code>size</code>: a tuple <code>(nx, ny)</code> specifying the size of the aperture function.</li><li><code>T</code>: element type for the covariance matrix (default <code>Float64</code>). If the aperture function <code>W</code> is provided, its element type is used.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl/blob/6832577da236feac4a10a9719c818e45d8e98f2b/src/atmosphere.jl#L5-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AtmosphericTurbulenceSimulator.simulate_phases-Union{Tuple{AtmosphericTurbulenceSimulator.AtmosphereSpec{FT}}, Tuple{FT}} where FT"><a class="docstring-binding" href="#AtmosphericTurbulenceSimulator.simulate_phases-Union{Tuple{AtmosphericTurbulenceSimulator.AtmosphereSpec{FT}}, Tuple{FT}} where FT"><code>AtmosphericTurbulenceSimulator.simulate_phases</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">simulate_phases(atm_spec::AtmosphereSpec; n, [batch, filename, verbose, deviceadapter])</code></pre><p>Simulate <code>n</code> phase screens using the provided atmosphere specification and write the results to an HDF5 file.</p><p><strong>Arguments</strong></p><ul><li><code>atm_spec</code>: an <code>AtmosphereSpec</code> used to produce phase screens.</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>n</code>: number of phase screens to simulate.</li><li><code>batch</code>: batch size for buffered computations and HDF5 writes (default 512).</li><li><code>filename</code>: output HDF5 filename (default &quot;simulation.h5&quot;).</li><li><code>verbose</code>: show progress meter (true by default).</li><li><code>deviceadapter</code>: adapter for device-backed arrays (defaults to <code>Array</code>). To use GPU arrays, pass e.g. <code>CUDA.CuArray</code> here (requires CUDA.jl).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl/blob/6832577da236feac4a10a9719c818e45d8e98f2b/src/atmosphere.jl#L223-L239">source</a></section></details></article><h2 id="Imaging-specifications"><a class="docs-heading-anchor" href="#Imaging-specifications">Imaging specifications</a><a id="Imaging-specifications-1"></a><a class="docs-heading-anchor-permalink" href="#Imaging-specifications" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="AtmosphericTurbulenceSimulator.DoubleSystem"><a class="docstring-binding" href="#AtmosphericTurbulenceSimulator.DoubleSystem"><code>AtmosphericTurbulenceSimulator.DoubleSystem</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">DoubleSystem(rel_position, intensity[; nphotons, background])</code></pre><p>Model for a two-component source (binary): primary plus a secondary offset by <code>rel_position</code>. <code>nphotons</code> and <code>background</code> describe the brightness of the primary component; the default is continuous flux, see <a href="#AtmosphericTurbulenceSimulator.PointSource"><code>PointSource</code></a> for more info.</p><p><strong>Arguments</strong></p><ul><li><code>rel_position</code>: <code>(dx, dy)</code> integer tuple specifying the secondary&#39;s pixel offset.</li><li><code>intensity</code>: multiplicative intensity of the secondary relative to the primary.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl/blob/6832577da236feac4a10a9719c818e45d8e98f2b/src/imaging.jl#L109-L119">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AtmosphericTurbulenceSimulator.FilterSpec"><a class="docstring-binding" href="#AtmosphericTurbulenceSimulator.FilterSpec"><code>AtmosphericTurbulenceSimulator.FilterSpec</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">FilterSpec</code></pre><p>Representation of a spectral filter used by the imaging pipeline.</p><hr/><pre><code class="language-julia hljs">FilterSpec(base_wavelength, wavelengths[, intensities])</code></pre><p><strong>Arguments</strong></p><ul><li><code>base_wavelength</code>: central wavelength for the filter.</li><li><code>wavelengths</code>: vector of sampled wavelengths within the filter bandpass.</li><li><code>intensities</code>: vector of relative intensities at each sampled wavelength. If not provided, equal weights are assumed.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl/blob/6832577da236feac4a10a9719c818e45d8e98f2b/src/imaging.jl#L5-L18">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AtmosphericTurbulenceSimulator.FilterSpec-Union{Tuple{T}, Tuple{Type{T}, Real}} where T&lt;:Real"><a class="docstring-binding" href="#AtmosphericTurbulenceSimulator.FilterSpec-Union{Tuple{T}, Tuple{Type{T}, Real}} where T&lt;:Real"><code>AtmosphericTurbulenceSimulator.FilterSpec</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">FilterSpec([T, ]base_wavelength; bandpass, tcenter=1, tedge=1, npts=7)</code></pre><p><strong>Arguments</strong></p><ul><li><code>base_wavelength</code>: central wavelength for the filter (same units as <code>wavelengths</code>).</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>bandpass</code>: total width of the filter bandpass in wavelength units.</li><li><code>tcenter</code>: relative intensity at the center wavelength (default 1).</li><li><code>tedge</code>: relative intensity at the edges of the bandpass (default 1).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl/blob/6832577da236feac4a10a9719c818e45d8e98f2b/src/imaging.jl#L28-L38">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AtmosphericTurbulenceSimulator.ImagingSpec"><a class="docstring-binding" href="#AtmosphericTurbulenceSimulator.ImagingSpec"><code>AtmosphericTurbulenceSimulator.ImagingSpec</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ImagingSpec</code></pre><p>Container describing the imaging system configuration. It is defined by the aperture function, the specification of the filter and the output image size. If the image size does not match the aperture size, the aperture is zero-padded accordingly.</p><hr/><pre><code class="language-julia hljs">ImagingSpec(aperture, [img_size, filter_spec; nyquist_oversample=1])</code></pre><p><strong>Arguments</strong></p><ul><li><code>aperture</code>: 2D aperture (pupil) array describing the telescope pupil.</li><li><code>img_size</code>: output image size <code>(nx, ny)</code>. If not provided, it is computed as double the size of the aperture times the <code>nyquist_oversample</code> factor.</li><li><code>filter_spec</code>: <code>FilterSpec</code> instance describing spectral sampling and relative intensities.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl/blob/6832577da236feac4a10a9719c818e45d8e98f2b/src/imaging.jl#L161-L176">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AtmosphericTurbulenceSimulator.PointSource"><a class="docstring-binding" href="#AtmosphericTurbulenceSimulator.PointSource"><code>AtmosphericTurbulenceSimulator.PointSource</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">PointSource(nphotons[, background])
PointSource([;nphotons, background])</code></pre><p>Simple true-sky brightness model. When <code>nphotons</code> is finite the simulator will Poisson-sample pixel values according to the PSF-normalized flux with added background; if <code>nphotons</code> is <code>Inf</code> the continuous flux is used (no shot noise), and background is ignored.</p><p><strong>Arguments</strong></p><ul><li><code>nphotons</code>: total photons for the source (or <code>Inf</code> for continuous mode). Defaults to <code>Inf</code>.</li><li><code>background</code>: constant background added to the flux in photons per pixel. Ignored in   continuous mode, defaults to <code>1.0</code> otherwise.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl/blob/6832577da236feac4a10a9719c818e45d8e98f2b/src/imaging.jl#L86-L98">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AtmosphericTurbulenceSimulator.TrueSkyImage"><a class="docstring-binding" href="#AtmosphericTurbulenceSimulator.TrueSkyImage"><code>AtmosphericTurbulenceSimulator.TrueSkyImage</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">TrueSkyImage(true_sky::AbstractMatrix{T}[; nphotons, background])</code></pre><p>Wrap a real-valued true-sky image for use with the imaging pipeline. <code>nphotons</code> and <code>background</code> describe the brightness of the source; the default is continuous flux, see <a href="#AtmosphericTurbulenceSimulator.PointSource"><code>PointSource</code></a> for more info.</p><p><strong>Arguments</strong></p><ul><li><code>true_sky</code>: real image array representing spatial sky brightness.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl/blob/6832577da236feac4a10a9719c818e45d8e98f2b/src/imaging.jl#L134-L143">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AtmosphericTurbulenceSimulator.CircularAperture-Union{Tuple{T}, Tuple{Type{T}, Tuple{T, T} where T}, Tuple{Type{T}, Tuple{T, T} where T, Any}} where T&lt;:Real"><a class="docstring-binding" href="#AtmosphericTurbulenceSimulator.CircularAperture-Union{Tuple{T}, Tuple{Type{T}, Tuple{T, T} where T}, Tuple{Type{T}, Tuple{T, T} where T, Any}} where T&lt;:Real"><code>AtmosphericTurbulenceSimulator.CircularAperture</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">CircularAperture([T, ]sz, radius[; aa_dist=1])</code></pre><p>Create a circular (optionally anti-aliased) aperture array of shape <code>sz</code>. Returns a 2D numeric array suitable for use as an aperture in <code>ImagingSpec</code>.</p><p><strong>Arguments</strong></p><ul><li><code>T</code>: desired numeric element type, <code>Float64</code> by default.</li><li><code>sz</code>: aperture size <code>(nx, ny)</code>.</li><li><code>radius</code>: radius of the circular aperture in pixels. Defaults to the largest that fits.</li><li><code>aa_dist</code>: anti-aliasing transition width in pixels at the aperture edge.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl/blob/6832577da236feac4a10a9719c818e45d8e98f2b/src/imaging.jl#L271-L282">source</a></section></details></article><article><details class="docstring" open="true"><summary id="AtmosphericTurbulenceSimulator.simulate_images-Union{Tuple{FT2}, Tuple{FT}, Tuple{T}, Tuple{Type{T}, ImagingSpec{FT, AT} where AT&lt;:AbstractMatrix{FT}, AtmosphericTurbulenceSimulator.AtmosphereSpec{FT2}}, Tuple{Type{T}, ImagingSpec{FT, AT} where AT&lt;:AbstractMatrix{FT}, AtmosphericTurbulenceSimulator.AtmosphereSpec{FT2}, AtmosphericTurbulenceSimulator.TrueSky}} where {T, FT, FT2}"><a class="docstring-binding" href="#AtmosphericTurbulenceSimulator.simulate_images-Union{Tuple{FT2}, Tuple{FT}, Tuple{T}, Tuple{Type{T}, ImagingSpec{FT, AT} where AT&lt;:AbstractMatrix{FT}, AtmosphericTurbulenceSimulator.AtmosphereSpec{FT2}}, Tuple{Type{T}, ImagingSpec{FT, AT} where AT&lt;:AbstractMatrix{FT}, AtmosphericTurbulenceSimulator.AtmosphereSpec{FT2}, AtmosphericTurbulenceSimulator.TrueSky}} where {T, FT, FT2}"><code>AtmosphericTurbulenceSimulator.simulate_images</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">simulate_images([T, ]img_spec::ImagingSpec, atm_spec::AtmosphereSpec[, truesky::TrueSky]; n, [batch, filename, verbose, savephases, deviceadapter])</code></pre><p>Simulate <code>n</code> images using the provided imaging and atmosphere specifications and write the results to an HDF5 file.</p><p><strong>Arguments</strong></p><ul><li><code>T</code>: output image numeric type; if not provided, defaults to <code>Int</code> for finite-photon true sky models and <code>Float64</code> for infinite-photon models.</li><li><code>img_spec</code>: an <code>ImagingSpec</code> describing the aperture, image size and filter.</li><li><code>atm_spec</code>: an <code>AtmosphereSpec</code> used to produce phase screens.</li><li><code>truesky</code>: a <code>TrueSky</code> model (e.g. <code>PointSource</code>, <code>DoubleSystem</code>, <code>TrueSkyImage</code>).</li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>n</code>: number of images to simulate.</li><li><code>batch</code>: batch size for buffered computations and HDF5 writes (default 512).</li><li><code>filename</code>: output HDF5 filename (default &quot;simulation.h5&quot;).</li><li><code>verbose</code>: show progress meter (true by default).</li><li><code>savephases</code>: when true, the sampled phase screens are saved in the HDF5 in dataset with key <code>&quot;phases&quot;</code>, and the pupil function is saved under key <code>&quot;aperture&quot;</code> (true by default).</li><li><code>deviceadapter</code>: adapter for device-backed arrays (defaults to <code>Array</code>). To use GPU arrays, pass e.g. <code>CUDA.CuArray</code> here (requires CUDA.jl).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/aryavorskiy/AtmosphericTurbulenceSimulator.jl/blob/6832577da236feac4a10a9719c818e45d8e98f2b/src/imaging.jl#L334-L356">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Overview</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Thursday 8 January 2026 10:31">Thursday 8 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
